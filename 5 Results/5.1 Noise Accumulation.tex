\section{Noise Accumulation}
\label{sec:Noise Accumulation}
When performing fully homomorphic operations, a small amount of noise is introduced that affects the accuracy of the decrypted distance measure. If too much noise is accumulated, the plaintext cannot be recovered. Table \ref{table:mean-error} represents the baseline Mean Error from Pop-Share \cite{Lagesse2021-PopShare}, compared to our implementation. For Kullback-Leibler Divergence (KLD), Cramer Distance (CD), and Bhattacharyya Coefficient (BC), our implementation introduced half the amount of noise compared to the original. This was computed by subtracting the mean error of GhostPeerShare ($GPS$) from Pop-Share ($PS)$, such that $PS - GPS$ resulted in approximately the same value as Pop-Share. This difference is likely attributed to the changes in the security parameters and advances in Microsoft SEAL between v3.3 and v4.1, respectively.

\input{5 Results/Tables/5.1 Mean Error Table}

GhostPeerShare uses the CKKS \cite{Cheon2017-CKKS} fully homomorphic scheme for all encryption arithmetic. Specifically, this scheme uses three security parameters: 1) Polynomial Modulus Degree, 2) Encoder Scalar, and 3) Sizes of the Coefficient Modulus Chain (qSizes). The Polynomial Modulus Degree configures the size of the ciphertext and the number of slots available for encoding data. Next, CKKS encodes real numbers into polynomials, and the encoder scalar is used to scale real numbers by a significant factor to preserve precision. Finally, the Sizes (in bits) in the Coefficient Modulus Chain contribute to the noise budget. The modified ciphertext cannot be decrypted if too much noise is introduced. By default, GhostPeerShare selects the Polynomial Modulus Degree of 4096, Encoder Scalar of $2^{40}$, and qSizes of [60, 40, 40, 60].

These parameters are a significant factor in managing noise growth. Due to the different major versions of SEAL used in Pop-Share, the only shared parameter value is the Polynomial Modulus Degree of 4096. Otherwise, all other parameters differ. However, Pop-Share compared the performance of 128-bit security to 256-bit security and found that tasks take twice as long using a Polynomial Modulus Degree of 8192. GhostPeerShare, by default, offers a balance in performance and security, achieving an equivalent 128-bit security in SEAL v4.1.
